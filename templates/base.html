<!-- 에러 메세지 테스트 -->
    {% comment %} {% if messages %}
        <div id="messages">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
            {{ message }}
            </div>
        {% endfor %}
        </div>
    {% endif %} {% endcomment %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}여행맛집로그{% endblock %}</title>
    <!-- 기본 CSS -->
    <link href="" rel="stylesheet">
    <!-- 페이지별 추가 CSS -->
    <style></style>
</head>
<body>
    <div id="wrapper">
        <div class="header">
            <h1><a href="/">여행맛집로그</a></h1>

            <h1>게시글 검색</h1>

            <form method="get" action="{% url 'blog:post_search' %}">
                <input type="text" name="q" placeholder="검색어를 입력하세요" value="{{ q }}">
                <button type="submit">검색</button>
            </form>

            <div class="user-navigation">
                <!-- 로그인된 사용자 영역 -->
                {% if user.is_authenticated %}
                <div class="authenticated-section">
                    <!-- 사용자 프로필 블록 -->
                    <div class="user-profile-block">
                        <div class="welcome-message">
                            <p>{{ user.profile.display_name }}님의 블로그</p>
                        </div>
                        
                        <div class="profile-image-block">
                            <img src="{{ user.profile.profile_image_url }}" alt="프로필 이미지" class="img-fluid">
                        </div>
                    </div>
                    
                    <hr />
                    
                    <!-- 로그인 사용자 전용 링크 블록 -->
                    <div class="authenticated-links-block">
                        <nav class="user-menu">
                            <a href="{% url 'blog:post_write' %}" class="menu-item write-post">
                                <span class="text">글쓰기</span>
                            </a>

                            <a href="{% url 'blog:post_list' %}" class="menu-item my-posts">
                                <span class="text">전체 게시글 목록</span>
                            </a>
                            
                            <a href="{% url 'blog:my_posts' %}" class="menu-item my-posts">
                                <span class="text">내 블로그로 이동</span>
                            </a>
                            
                            <a href="{% url 'accounts:profile_edit' %}" class="menu-item profile-edit">
                                <span class="text">프로필 변경</span>
                            </a>
                        </nav>
                    </div>
                    
                    <!-- 로그아웃 블록 -->
                    <div class="logout-block">
                        <form method="post" action="{% url 'accounts:logout' %}">
                            {% csrf_token %}
                            <button type="submit" class="logout-btn">
                                <span class="text">로그아웃</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        <!-- 비로그인 사용자 영역 -->
        {% else %}
        <div class="unauthenticated-section">
            <div class="welcome-block">
                <p>로그인하여 더 많은 기능을 이용하세요</p>
            </div>
            
            <!-- 비로그인 사용자 전용 링크 블록 -->
            <div class="unauthenticated-links-block">
                <nav class="auth-menu">
                    <a href="{% url 'accounts:login' %}" class="menu-item login">
                        <span class="text">로그인</span>
                    </a>
                    
                    <a href="{% url 'accounts:register' %}" class="menu-item register">
                        <span class="text">회원가입</span>
                    </a>
                </nav>
            </div>
        </div>
        {% endif %}
    </div>

    <div class="main-content">
        {% block content %}{% endblock %}
    </div>
</body>
</html>

